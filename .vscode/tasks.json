{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "ğŸ¯ Escolher Build",
            "type": "shell",
            "command": "sh",
            "args": [
                "-c",
                "printf '\\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n'; printf '  TERRÃSMART - SELETOR DE BUILD\\n'; printf 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n\\n'; printf '1) Build ESP8266 (Firmware)\\n'; printf '2) Run Tests (42 Testes UnitÃ¡rios)\\n'; printf '3) Build ALL (Firmware + Testes)\\n'; printf '4) Sair\\n\\n'; read -p 'Escolha (1-4): ' choice; case $choice in 1) code --command workbench.action.tasks.runTask --args 'Build ESP8266';; 2) code --command workbench.action.tasks.runTask --args 'Run Tests';; 3) code --command workbench.action.tasks.runTask --args 'Build ALL';; 4) echo 'Cancelado';; *) echo 'OpÃ§Ã£o invÃ¡lida';; esac"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": true
            }
        },
        {
            "label": "Build ESP8266",
            "type": "shell",
            "command": "platformio",
            "args": [
                "run",
                "-e",
                "wemos_d1_mini32"
            ],
            "problemMatcher": [
                "$platformio"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false,
                "echo": true
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "Run Tests",
            "type": "shell",
            "command": "platformio",
            "args": [
                "test",
                "-e",
                "native_test"
            ],
            "problemMatcher": [
                "$platformio"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false,
                "echo": true
            },
            "group": {
                "kind": "test",
                "isDefault": false
            }
        },
        {
            "label": "Build ALL",
            "type": "shell",
            "command": "sh",
            "args": [
                "-c",
                "platformio run -e wemos_d1_mini32 && echo '\\nâœ… Firmware OK!\\n' && platformio test -e native_test && echo '\\nâœ… Testes OK!'"
            ],
            "problemMatcher": [
                "$platformio"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false,
                "echo": true
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "Upload to ESP",
            "type": "shell",
            "command": "platformio",
            "args": [
                "run",
                "-e",
                "wemos_d1_mini32",
                "--target",
                "upload"
            ],
            "problemMatcher": [
                "$platformio"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "Monitor Serial",
            "type": "shell",
            "command": "platformio",
            "args": [
                "device",
                "monitor",
                "-b",
                "115200",
                "-e",
                "wemos_d1_mini32"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false
            },
            "isBackground": true,
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "Clean Build",
            "type": "shell",
            "command": "sh",
            "args": [
                "-c",
                "platformio run --target clean -e wemos_d1_mini32 && platformio run --target clean -e native_test && echo '\\nâœ… Build limpo!'"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        },
        {
            "label": "âš ï¸  NÃƒO USE: Use 'Run Tests' ao invÃ©s disso!",
            "type": "shell",
            "command": "sh",
            "args": [
                "-c",
                "echo '\\nâŒ ERRO: VocÃª tentou buildar native_test com platformio run\\n'; echo 'âœ… SOLUÃ‡ÃƒO: Use Ctrl+Shift+B â†’ \"Run Tests\"\\n'; echo 'ğŸ“– Mais info: docs/VSCODE_TASKS.md\\n'; exit 1"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": false
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        }
    ]
}